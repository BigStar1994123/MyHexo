---
title: 20181106工作日誌
tags:
  - 工作
category:
  - 工作日誌
date: 2018-11-06 15:01:06
---
## 暫存MongoDb語法 ##

```
  // https://stackoverflow.com/questions/30257013/mongodb-c-sharp-driver-2-0-update-document
  // https://rubikscode.net/2017/10/02/using-mongodb-in-c/
  // ★
  // http://mongodb.github.io/mongo-csharp-driver/2.7/getting_started/quick_tour/#insert-a-document
  // ★
  //var connectionString = _mongoDbConfig.ConnectionString;
  //var client = new MongoClient(connectionString);
  //var db = client.GetDatabase("PocketHiGamedataDb");
  //var playerInfoCollection = db.GetCollection<PocketHiPlayerInfoEntity>("pocketHiPlayerInfoEntities");
  //var filter = Builders<PocketHiPlayerInfoEntity>.Filter.Eq("_id", playerInfoId);
  //var newBravoEntity = new BravoEventEntity();
  //var update = Builders<PocketHiPlayerInfoEntity>.Update.Set("BravoEvent", newBravoEntity);
  //var result = playerInfoCollection.UpdateOne(filter, update);

  //var bravoCollection = db.GetCollection<BravoEventEntity>("bravoEventEntities");
  //bravoCollection.InsertOne(newBravoEntity);
  //userPlayerInfo.BravoEvent = newBravoEntity;
```

## WireMock for AspNetCore ##

WireMock 是一個用來回傳假的 Api Data 的  
的  
的  
好東西  
有機會再用  
[Github : MireMock Wiki](https://github.com/WireMock-Net/WireMock.Net/wiki/WireMock-as-a-(Azure)-Web-App)

## 存 Data 時要使用 UnitOfWork 同時處理 ##

以後要記得用  
[Layered Architecture in ASP.NET Core Applications](https://programmingwithmosh.com/asp-net/layered-architecture/)

## C# 在非同步 Method 中使用 ref/out ##

記起來 以後用的到  
[在 C# 异步方法中使用 out/ref 参数机制](https://blog.csdn.net/cheer_cheer/article/details/52107328)  

## Layer 層別是可以使用其他 Repository 的 ##

[Github : Having a repository dependent on another repository](https://stackoverflow.com/questions/30118599/having-a-repository-dependent-on-another-repository)  

## C# Dictionary TryGetValue is faster than ContainsKey ##

教你怎麼用 Dictionary  
[C# Example Page : TryGetValue](https://www.dotnetperls.com/trygetvalue)  

## Set ##

set ASPNETCORE_ENVIRONMENT=Local