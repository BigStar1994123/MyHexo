---
title: 20181205工作日誌
tags:
  - 工作
  - AspNetCore
  - C#
category:
  - 工作日誌
date: 2018-12-05 12:15:57
---

## .Net Core 要怎麼 Post Form Data ##

似乎這樣就可以  
[StackOverflow: How to post data using HttpClient?](https://stackoverflow.com/questions/20005355/how-to-post-data-using-httpclient)  
```
var comment = "hello world";
var questionId = 1;

var formContent = new FormUrlEncodedContent(new[]
{
    new KeyValuePair<string, string>("comment", comment), 
    new KeyValuePair<string, string>("questionId", questionId) 
});

var myHttpClient = new HttpClient();
var response = await myHttpClient.PostAsync(uri.ToString(), formContent);

```

And if you need to get the response after post, you should use:  

```
var stringContent = await response.Content.ReadAsStringAsync();
```

## .Net Core 如何加解密字串 ##

[Mikael Koskinen: Encrypt & Decrypt String in ASP.NET Core](https://mikaelkoskinen.net/post/encrypt-decrypt-string-asp-net-core)  

## .Net Core 寫入文字檔案 ##

[StackOverflow: How to write to a file in .NET Core?](https://stackoverflow.com/questions/35310078/how-to-write-to-a-file-in-net-core)  

大概長這樣  
```
var logPath = System.IO.Path.GetTempFileName();
var logFile = System.IO.File.Create(logPath);
var logWriter = new System.IO.StreamWriter(logFile);
logWriter.WriteLine("Log message");
logWriter.Dispose();
```

## .Net Core Json 序列化/反序列化 ##

[StackOverflow: JSON serialization/deserialization in ASP.Net Core](https://stackoverflow.com/questions/29841503/json-serialization-deserialization-in-asp-net-core)  

```
#using Newtonsoft.Json
....
JsonConvert.DeserializeObject(json);
```

## C# Console 不顯示密碼 ##

[StackOverflow: C# Console - hide the input from console window while typing](https://stackoverflow.com/questions/23433980/c-sharp-console-hide-the-input-from-console-window-while-typing)  

這個解答更棒  
[StackOverflow: Password masking console application](https://stackoverflow.com/questions/3404421/password-masking-console-application)  

```
string pass = "";
do
{
    ConsoleKeyInfo key = Console.ReadKey(true);
    // Backspace Should Not Work
    if (key.Key != ConsoleKey.Backspace && key.Key != ConsoleKey.Enter)
    {
        pass += key.KeyChar;
        Console.Write("*");
    }
    else
    {
        if (key.Key == ConsoleKey.Backspace && pass.Length > 0)
        {
            pass = pass.Substring(0, (pass.Length - 1));
            Console.Write("\b \b");
        }
        else if(key.Key == ConsoleKey.Enter)
        {
            break;
        }
    }
} while (true);
```